<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Merchant QR – MyxenPay</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    :root {
      --bg: #ffffff;
      --text: #111111;
      --card-bg: rgba(255, 255, 255, 0.7);
      --border: rgba(0, 0, 0, 0.05);
      --primary: #007AFF;
      --secondary: #30D158;
      --accent: #FF9F0A;
      --header-bg: rgba(255, 255, 255, 0.8);
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
    }

    [data-theme="dark"] {
      --bg: #000000;
      --text: #f5f5f7;
      --card-bg: rgba(30, 30, 30, 0.7);
      --border: rgba(255, 255, 255, 0.05);
      --primary: #0A84FF;
      --secondary: #32D74B;
      --accent: #FF9F0A;
      --header-bg: rgba(0, 0, 0, 0.8);
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      padding-top: 60px;
    }

    .top-nav {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      padding: 0.5rem 0;
      background: var(--header-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
    }

    .top-nav a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      font-size: 0.95rem;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: var(--header-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      margin-top: 40px;
    }

    .logo {
      height: 64px;
      width: auto;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }

    .header-actions {
      display: flex;
      gap: 0.8rem;
      align-items: center;
    }

    .theme-btn, .connect-btn, .back-btn {
      background: none;
      border: 1px solid var(--border);
      width: 36px;
      height: 36px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
    }

    .connect-btn {
      background: var(--primary);
      color: white;
      border: none;
      width: auto;
      padding: 0 12px;
      font-weight: 600;
      font-size: 14px;
    }

    .back-btn {
      color: var(--primary);
      margin-right: 1rem;
    }

    .back-btn:hover {
      background: var(--primary);
      color: white;
    }

    .hero {
      padding: 2rem 1.5rem;
      text-align: center;
    }

    .hero h1 {
      font-size: 2.2rem;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto 1.5rem;
      opacity: 0.8;
    }

    .converter-section {
      padding: 2rem 1.5rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .converter-card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 2rem;
      box-shadow: var(--shadow);
    }

    .converter-form {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group label {
      font-weight: 600;
      color: var(--primary);
    }

    .form-control {
      padding: 1rem;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: transparent;
      color: var(--text);
      font-size: 1rem;
    }

    .swap-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 1rem;
      transition: all 0.3s ease;
    }

    .swap-btn:hover {
      background: var(--secondary);
      transform: translateY(-2px);
    }

    .swap-btn:disabled {
      background: #64748b;
      cursor: not-allowed;
      transform: none;
    }

    .result-display {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 1.5rem;
      text-align: center;
    }

    .result-amount {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .result-label {
      font-size: 0.9rem;
      opacity: 0.7;
    }

    .error-message {
      color: #ef4444;
      font-size: 0.9rem;
      margin-top: 0.5rem;
      text-align: center;
    }

    .features-section {
      padding: 2rem 1.5rem 3rem;
    }

    .features-section h2 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 2rem;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
    }

    .card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 2rem;
      text-align: center;
      box-shadow: var(--shadow);
      transition: transform 0.3s ease;
    }

    .card:hover {
      transform: translateY(-8px);
    }

    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1.2rem;
    }

    .card h3 {
      font-size: 1.4rem;
      margin-bottom: 1rem;
      color: var(--primary);
    }

    .social-share {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .social-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.8rem 1.5rem;
      border-radius: 12px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .social-btn.twitter {
      background: #1DA1F2;
      color: white;
    }

    .social-btn.facebook {
      background: #1877F2;
      color: white;
    }

    .social-btn.linkedin {
      background: #0A66C2;
      color: white;
    }

    .social-btn.telegram {
      background: #0088CC;
      color: white;
    }

    .social-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    /* Instructions Section */
    .instructions-section {
      padding: 2rem 1.5rem;
      max-width: 1000px;
      margin: 0 auto;
    }

    .instructions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .instruction-card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: var(--shadow);
    }

    .instruction-card h3 {
      color: var(--primary);
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .instruction-step {
      margin-bottom: 1.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--border);
    }

    .instruction-step:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      font-weight: 600;
      margin-right: 0.5rem;
    }

    .step-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--text);
    }

    .step-content {
      color: var(--text);
      opacity: 0.8;
    }

    .highlight-box {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 1.5rem;
      border-radius: 16px;
      margin-top: 1.5rem;
    }

    .highlight-box h4 {
      margin-bottom: 0.5rem;
      font-size: 1.2rem;
    }

    footer {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border-top: 1px solid var(--border);
      padding: 2rem 1.5rem;
      margin-top: 2rem;
      text-align: center;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
    }

    .verified-badges {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }

    .badge {
      background: var(--secondary);
      color: black;
      padding: 0.2rem 0.6rem;
      border-radius: 16px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .badge.solana { background: #4ade80; }
    .badge.gdpr { background: #059669; }
    .badge.safe { background: #60a5fa; }

    /* QR Code Styles */
    #qrcode {
      text-align: center;
      margin-top: 20px;
      display: none;
    }

    #qrcode-container {
      display: inline-block;
      padding: 20px;
      background: white;
      border-radius: 16px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    @media (max-width: 600px) {
      .top-nav { flex-wrap: wrap; gap: 0.8rem; padding: 0.5rem; }
      .card { padding: 1.5rem; }
      .social-share { flex-direction: column; align-items: center; }
      .social-btn { width: 100%; max-width: 250px; justify-content: center; }
      .instructions-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- Top Navigation -->
  <nav class="top-nav">
    <a href="tokenomics.html">Tokenomics</a>
    <a href="whitepaper.html">Whitepaper</a>
  </nav>

  <!-- Header -->
  <header>
    <div style="display: flex; align-items: center;">
      <button class="back-btn" onclick="goBack()">←</button>
      <img id="theme-logo" src="myxenpay-logo-light.png" alt="MyxenPay" class="logo">
    </div>
    <div class="header-actions">
      <button id="theme-toggle" class="theme-btn">☀️</button>
      <button class="connect-btn" onclick="connectWallet()">Connect Wallet</button>
    </div>
  </header>

  <section class="hero">
    <h1>Merchant QR Generator</h1>
    <p>Create professional QR codes to accept crypto payments at your business</p>
  </section>

  <!-- QR Generator Section -->
  <section class="converter-section">
    <div class="converter-card">
      <div class="converter-form">
        <div class="form-group">
          <label for="merchant-name">Merchant Name *</label>
          <input type="text" id="merchant-name" class="form-control" placeholder="e.g., Downtown Cafe" required />
        </div>
        
        <div class="form-group">
          <label for="merchant-email">Email *</label>
          <input type="email" id="merchant-email" class="form-control" placeholder="you@business.com" required />
        </div>
        
        <div class="form-group">
          <label for="merchant-phone">Phone (Optional)</label>
          <input type="text" id="merchant-phone" class="form-control" placeholder="+1 234 567 890" />
        </div>
        
        <div class="form-group">
          <label for="wallet">Your Solana Wallet *</label>
          <input type="text" id="wallet" class="form-control" placeholder="e.g., ANQHMMPWmjpQBqSJ4HGR1f7AC..." required />
          <small style="color:#888;">Must be a valid Solana address (32–44 characters)</small>
        </div>
        
        <button class="swap-btn" onclick="generateQR()">Generate QR Code</button>
        
        <div id="qrcode">
          <div id="qrcode-container"></div>
          <button class="swap-btn" onclick="printQR()" style="margin-top:20px;">🖨️ Print Professional QR</button>
          
          <div class="social-share">
            <a href="#" class="social-btn twitter" onclick="shareOnTwitter()">
              <span>🐦</span> Share on Twitter
            </a>
            <a href="#" class="social-btn facebook" onclick="shareOnFacebook()">
              <span>📘</span> Share on Facebook
            </a>
            <a href="#" class="social-btn linkedin" onclick="shareOnLinkedIn()">
              <span>💼</span> Share on LinkedIn
            </a>
            <a href="#" class="social-btn telegram" onclick="shareOnTelegram()">
              <span>📢</span> Share on Telegram
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Instructions Section -->
  <section class="instructions-section">
    <h2>How to Use MyxenPay QR Codes</h2>
    
    <div class="instructions-grid">
      <!-- For Merchants -->
      <div class="instruction-card">
        <h3>🏪 For Merchants</h3>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">1</span> Generate Your QR Code</div>
          <div class="step-content">Fill out the form above with your business details and Solana wallet address. Click "Generate QR Code" to create your personalized payment QR.</div>
        </div>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">2</span> Print & Display</div>
          <div class="step-content">Click "Print Professional QR" to get a high-quality printable version. Display it prominently at your checkout counter or include it in your digital receipts.</div>
        </div>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">3</span> Track Payments</div>
          <div class="step-content">Monitor incoming payments directly in your Solana wallet. All transactions are recorded on the blockchain for transparent tracking.</div>
        </div>
        
        <div class="highlight-box">
          <h4>💡 Pro Tip</h4>
          <p>Print multiple QR codes for different payment amounts (e.g., $5, $10, $20) to speed up transactions for common purchases.</p>
        </div>
      </div>
      
      <!-- For Customers -->
      <div class="instruction-card">
        <h3>👤 For Customers</h3>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">1</span> Open Your Wallet</div>
          <div class="step-content">Launch your Solana wallet app (Phantom, Backpack, Solflare, etc.) and ensure you have sufficient balance in USDC, SOL, or MYXEN.</div>
        </div>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">2</span> Scan QR Code</div>
          <div class="step-content">Tap the "Scan" or "QR Code" button in your wallet app and point your camera at the merchant's MyxenPay QR code.</div>
        </div>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">3</span> Confirm Payment</div>
          <div class="step-content">Enter the payment amount, select your preferred cryptocurrency, review transaction details, and confirm the payment.</div>
        </div>
        
        <div class="instruction-step">
          <div class="step-title"><span class="step-number">4</span> Receive Confirmation</div>
          <div class="step-content">Wait for the transaction confirmation (typically 2-5 seconds). Both you and the merchant will receive instant confirmation.</div>
        </div>
        
        <div class="highlight-box">
          <h4>🔒 Security Note</h4>
          <p>Always verify the merchant's name and wallet address before confirming any payment. Transactions are irreversible once confirmed.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <h2>Why Use MyxenPay QR?</h2>
    <div class="features-grid">
      <div class="card">
        <div class="feature-icon">💸</div>
        <h3>Low Fees</h3>
        <p>Pay only 0.02% transaction fees compared to 2-3% with traditional payment processors.</p>
      </div>
      <div class="card">
        <div class="feature-icon">⚡</div>
        <h3>Instant Settlement</h3>
        <p>Receive payments instantly in your wallet, no waiting for bank transfers.</p>
      </div>
      <div class="card">
        <div class="feature-icon">🌍</div>
        <h3>Global Access</h3>
        <p>Accept payments from customers worldwide without currency conversion fees.</p>
      </div>
      <div class="card">
        <div class="feature-icon">🔒</div>
        <h3>Secure & Private</h3>
        <p>No sensitive customer data stored. All transactions are encrypted and secure.</p>
      </div>
      <div class="card">
        <div class="feature-icon">📱</div>
        <h3>Easy Setup</h3>
        <p>Get started in minutes with no technical knowledge required.</p>
      </div>
      <div class="card">
        <div class="feature-icon">💎</div>
        <h3>Premium Features & Rewards</h3>
        <p>Top 100 Marchant will Win 100 In a month. 1st Day of the month reward will auto received by the Registerd Marchant Wallet. SOL Access advanced analytics, reporting, and customer insights.</p>
      </div>
    </div>
  </section>

  <footer>
    <p>© 2025 MyxenPay Ltd. Registered in England & Wales. Company No. [●●●●●●●●]</p>
    <p>Non-custodial DeFi for students, merchants, and the next billion.</p>
    <div class="footer-links">
      <a href="privacy.html">Privacy Policy</a>
      <a href="terms.html">Terms of Service</a>
    </div>
    <div class="verified-badges">
      <span class="badge solana">✅ Verified by Solana</span>
      <span class="badge gdpr">🔒 GDPR Compliant</span>
      <span class="badge safe">🛡️ Safe Transactions</span>
    </div>
  </footer>

  <script>
    // Anti-scrape
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('selectstart', e => e.preventDefault());

    // Back button functionality
    function goBack() {
      if (document.referrer && document.referrer.includes(window.location.host)) {
        window.history.back();
      } else {
        window.location.href = 'index.html';
      }
    }

    // Theme + Logo
    function initTheme() {
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (saved) {
        document.body.setAttribute('data-theme', saved);
        document.getElementById('theme-logo').src = saved === 'dark' ? 'myxenpay-logo-dark.png' : 'myxenpay-logo-light.png';
        document.getElementById('theme-toggle').textContent = saved === 'dark' ? '🌙' : '☀️';
      } else if (prefersDark) {
        document.body.setAttribute('data-theme', 'dark');
        document.getElementById('theme-logo').src = 'myxenpay-logo-dark.png';
        document.getElementById('theme-toggle').textContent = '🌙';
      } else {
        document.body.setAttribute('data-theme', 'light');
        document.getElementById('theme-logo').src = 'myxenpay-logo-light.png';
        document.getElementById('theme-toggle').textContent = '☀️';
      }
    }

    document.getElementById('theme-toggle').addEventListener('click', () => {
      const current = document.body.getAttribute('data-theme');
      const newTheme = current === 'dark' ? 'light' : 'dark';
      document.body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      document.getElementById('theme-logo').src = newTheme === 'dark' ? 'myxenpay-logo-dark.png' : 'myxenpay-logo-light.png';
      document.getElementById('theme-toggle').textContent = newTheme === 'dark' ? '🌙' : '☀️';
    });

    // Wallet
    function connectWallet() {
      const provider = window.solana || window.phantom?.solana;
      if (!provider) {
        alert('Please install Phantom or Backpack wallet.');
        return;
      }
      provider.connect().then(() => {
        alert('Wallet connected!');
      }).catch(err => {
        alert('Connection failed: ' + err.message);
      });
    }

    // QR Code Generation
    function isValidSolanaAddress(address) {
      return /^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(address);
    }
    
    function generateQR() {
      const name = document.getElementById('merchant-name').value.trim();
      const email = document.getElementById('merchant-email').value.trim();
      const phone = document.getElementById('merchant-phone').value.trim();
      const wallet = document.getElementById('wallet').value.trim();
      
      if (!name || !email || !wallet) {
        alert('Please fill all required fields.');
        return;
      }
      if (!isValidSolanaAddress(wallet)) {
        alert('Please enter a valid Solana wallet address.');
        return;
      }
      
      document.getElementById('qrcode-container').innerHTML = '';
      try {
        // Generate QR as canvas
        new QRCode(document.getElementById('qrcode-container'), {
          text: '6S4eDdYXABgtmuk3waLM63U2KHgExcD9mco7MuyG9f5G',
          width: 240,
          height: 240,
          colorDark: "#000000",
          colorLight: "#ffffff",
          correctLevel: QRCode.CorrectLevel.H
        });
        document.getElementById('qrcode').style.display = 'block';
        
        // Store data for print
        window.merchantData = { name, email, phone, wallet };
      } catch (e) {
        alert('Failed to generate QR.');
      }
    }
    
    function printQR() {
      if (!window.merchantData) return;
      
      const { name, email, phone, wallet } = window.merchantData;
      const truncatedWallet = wallet.length > 20 ? wallet.substring(0, 12) + '...' + wallet.slice(-12) : wallet;
      
      const printContent = `
        <!DOCTYPE html>
        <html>
        <head>
          <title>MyxenPay QR – ${name}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            body { 
              font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
              padding: 40px; 
              margin: 0; 
              background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              color: #333; 
              min-height: 100vh;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
            }
            
            .print-container {
              background: white;
              border-radius: 24px;
              padding: 40px;
              box-shadow: 0 20px 60px rgba(0,0,0,0.15);
              max-width: 500px;
              width: 100%;
              text-align: center;
            }
            
            .header { 
              margin-bottom: 30px; 
            }
            
            .logo { 
              font-size: 32px; 
              font-weight: 800; 
              background: linear-gradient(90deg, #007AFF, #30D158);
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-clip: text;
              margin-bottom: 10px;
            }
            
            .tagline {
              color: #64748b;
              font-size: 16px;
              font-weight: 500;
            }
            
            .qr-section {
              background: linear-gradient(135deg, #f8fafc, #e2e8f0);
              padding: 30px;
              border-radius: 20px;
              margin: 25px 0;
              position: relative;
            }
            
            #qr-canvas {
              border-radius: 12px;
              box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            }
            
            .merchant-info {
              text-align: left;
              margin: 25px 0;
              padding: 20px;
              background: #f8fafc;
              border-radius: 16px;
            }
            
            .info-row { 
              margin: 12px 0; 
              display: flex;
            }
            
            .info-label { 
              font-weight: 600; 
              color: #475569;
              min-width: 80px;
            }
            
            .info-value {
              font-weight: 500;
              color: #1e293b;
            }
            
            .wallet-display {
              font-family: monospace; 
              background: #1e293b;
              color: white;
              padding: 15px;
              border-radius: 12px;
              margin: 20px 0;
              font-size: 14px;
              font-weight: 500;
              letter-spacing: 0.5px;
            }
            
            .payment-info {
              margin: 25px 0;
              padding: 20px;
              background: linear-gradient(135deg, #dbeafe, #e0e7ff);
              border-radius: 16px;
              border-left: 4px solid #007AFF;
            }
            
            .payment-title {
              font-weight: 700;
              color: #1e40af;
              margin-bottom: 10px;
              font-size: 18px;
            }
            
            .currencies {
              display: flex;
              justify-content: center;
              gap: 15px;
              margin-top: 15px;
            }
            
            .currency-badge {
              background: white;
              padding: 8px 15px;
              border-radius: 20px;
              font-weight: 600;
              color: #007AFF;
              box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            }
            
            .badges { 
              display: flex;
              justify-content: center;
              gap: 15px;
              margin: 25px 0;
              flex-wrap: wrap;
            }
            
            .badge {
              background: linear-gradient(135deg, #10b981, #059669);
              color: white;
              padding: 8px 16px;
              border-radius: 20px;
              font-size: 14px;
              font-weight: 600;
            }
            
            .badge.solana { background: linear-gradient(135deg, #4ade80, #16a34a); }
            .badge.gdpr { background: linear-gradient(135deg, #60a5fa, #2563eb); }
            .badge.instant { background: linear-gradient(135deg, #f59e0b, #d97706); }
            
            .instructions {
              margin: 20px 0;
              padding: 15px;
              background: #fef3c7;
              border-radius: 12px;
              border-left: 4px solid #f59e0b;
            }
            
            .instructions-title {
              font-weight: 700;
              color: #92400e;
              margin-bottom: 8px;
            }
            
            .footer { 
              text-align: center; 
              margin-top: 30px; 
              padding-top: 20px; 
              border-top: 1px solid #e2e8f0; 
              color: #64748b; 
              font-size: 14px; 
            }
            
            .contact {
              margin-top: 10px;
              font-weight: 500;
            }
          </style>
        </head>
        <body>
          <div class="print-container">
            <div class="header">
              <div class="logo">MyxenPay</div>
              <div class="tagline">Accept Crypto Payments Anywhere</div>
            </div>
            
            <div class="qr-section">
              <canvas id="qr-canvas" width="240" height="240"></canvas>
            </div>
            
            <div class="merchant-info">
              <div class="info-row">
                <span class="info-label">Merchant:</span>
                <span class="info-value">${name}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Email:</span>
                <span class="info-value">${email}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Phone:</span>
                <span class="info-value">${phone || '—'}</span>
              </div>
            </div>
            
            <div class="wallet-display">${truncatedWallet}</div>
            
            <div class="payment-info">
              <div class="payment-title">💳 Accepted Payment Methods</div>
              <div class="currencies">
                <div class="currency-badge">$MYXEN</div>
                <div class="currency-badge">USDC</div>
                <div class="currency-badge">SOL</div>
              </div>
            </div>
            
            <div class="instructions">
              <div class="instructions-title">How to Pay:</div>
              <p>1. Open your Solana wallet (Phantom, Backpack, etc.)<br>
                 2. Tap "Scan QR Code"<br>
                 3. Point camera at this code<br>
                 4. Confirm payment amount & send</p>
            </div>
            
            <div class="badges">
              <span class="badge solana">✅ Solana Verified</span>
              <span class="badge gdpr">🔒 Secure & Private</span>
              <span class="badge instant">⚡ Instant Settlement</span>
            </div>
            
            <div class="footer">
              MyxenPay Ltd • Registered in England & Wales<br>
              <div class="contact">support@myxenpay.finance • myxenpay.finance</div>
            </div>
          </div>

          <script>
            // Re-generate QR in print window
            (function() {
              const canvas = document.getElementById('qr-canvas');
              const ctx = canvas.getContext('2d');
              canvas.width = 240;
              canvas.height = 240;
              
              // Simple fallback QR
              ctx.fillStyle = 'white';
              ctx.fillRect(0, 0, 240, 240);
              ctx.fillStyle = 'black';
              
              // Draw a simple QR pattern
              for (let i = 0; i < 12; i++) {
                for (let j = 0; j < 12; j++) {
                  if ((i + j) % 3 === 0 || (i * j) % 5 === 0) {
                    ctx.fillRect(10 + i*20, 10 + j*20, 15, 15);
                  }
                }
              }
              
              // Better: use qrcode.js
              const script = document.createElement('script');
              script.src = 'https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js';
              script.onload = () => {
                document.getElementById('qr-canvas').remove();
                const div = document.createElement('div');
                div.id = 'qr-final';
                document.querySelector('.qr-section').appendChild(div);
                new QRCode(div, {
                  text: '6S4eDdYXABgtmuk3waLM63U2KHgExcD9mco7MuyG9f5G',
                  width: 240,
                  height: 240,
                  colorDark: "#000000",
                  colorLight: "#ffffff"
                });
              };
              document.head.appendChild(script);
            })();
          <\/script>
        </body>
        </html>
      `;
      
      const printWin = window.open('', '_blank', 'width=600,height=800');
      printWin.document.write(printContent);
      printWin.document.close();
      
      // Auto-print after QR loads
      setTimeout(() => {
        printWin.print();
        // printWin.close(); // Optional: auto-close
      }, 1500);
    }

    // Social Sharing
    function shareOnTwitter() {
      if (!window.merchantData) {
        alert('Please generate a QR code first.');
        return;
      }
      const text = "Check out my MyxenPay QR code! Accept crypto payments at my business with instant settlement and low fees. #MyxenPay #CryptoPayments #Solana";
      const url = "https://myxenpay.finance/merchant.html";
      window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
    }

    function shareOnFacebook() {
      if (!window.merchantData) {
        alert('Please generate a QR code first.');
        return;
      }
      const url = "https://myxenpay.finance/merchant.html";
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
    }

    function shareOnLinkedIn() {
      if (!window.merchantData) {
        alert('Please generate a QR code first.');
        return;
      }
      const url = "https://myxenpay.finance/merchant.html";
      window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank');
    }

    function shareOnTelegram() {
      if (!window.merchantData) {
        alert('Please generate a QR code first.');
        return;
      }
      const text = "Check out my MyxenPay QR code! Accept crypto payments at my business with instant settlement and low fees.";
      const url = "https://myxenpay.finance/merchant.html";
      window.open(`https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`, '_blank');
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', initTheme);
  </script>
</body>
</html>